extends layout
block links
    link(rel="stylesheet" href="https://unpkg.com/leaflet@1.3.4/dist/leaflet.css"
    integrity="sha512-puBpdR0798OZvTTbP4A8Ix/l+A4dHDD0DGqYW6RQ+9jxkRFclaxxQb/SJAWZfWAkuyeQUytO7+7N4QKrDh+drA=="
    crossorigin="")
    link(rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/css/materialize.min.css")
    style.
        input.leaflet-control-layers-selector[type="checkbox"]:not(:checked), input.leaflet-control-layers-selector[type="checkbox"]:checked {
            opacity: 1;
            position: relative;
        }

mixin week_tabs(weeks)
    each week in weeks
        div.chip=week

block content
    div#helper.available_weeks.hide
        each week in available_weeks
            pre=week
    div#interface.row
        div.col.s2
            div#control_panel
                div#density_control
                    h5 Density
                    div.preloader.progress.blue.ligthen-4
                        div.indeterminate.blue.darken-4
                div#trucks_control
                    h5 Truck Routes
                    div.preloader.progress.blue.ligthen-4
                        div.indeterminate.blue.darken-4
        div.col.s10
            div#map
    div.divider
    div#graphs.row
        div#analysis_control.center
            h5 Analysis
            div.divider
            div.analysis_section.hide
                div.row
                    h5.left Overall Truck Performance
                div.overall_analysis.row
                    div.col.m6.cans_graph
                    div.col.m6.stops_graph
                    div.col.m6.hours_graph
                    div.col.m6.pie_chart

                div.row
                    h5.left Weekly Truck Performance
                div.weekly_analysis.row
                    div.col.m6.cans_graph
                    div.col.m6.stops_graph
                    div.col.m6.hours_graph

            div.analysis_start_control.col-3
                button.btn.btn-flat.disabled.blue.ligthen-4 Start Analysis

block scripts
    include dependency_scripts
    script(src='/javascripts/densityMapInteraction.js')
    script(src='/javascripts/trucksMapInteraction.js')
    script(src='/javascripts/analysisInteraction.js')
    script(src='/javascripts/interaction.js')
